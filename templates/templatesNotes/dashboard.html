
{% extends "layout.html"%}

{% block bodyblock %}
    {% load crispy_forms_tags %}

    <h3>Control Panel</h3>
    <p>Welcome {{ request.user.username }}</p>
    <a class="btn btn-danger" href = "/articles/addarticle">Add Article</a>
    <hr>

    {% if articles %}

    <table class="table">
      <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Title</th>
          <th scope="col">Author</th>
          <th scope="col">Date</th>
          <th scope="col">Update</th>
          <th scope="col">Delete</th>
        </tr>
      </thead>
      <tbody>

      {% for article in articles  %}
      <tr>
          <th scope="row">{{ article.id }}</th>
          <td><a href="/articles/article/{{ article.id }}"> {{ article.title }} </a></td>
          <td>{{ article.author.username }}</td>
          <td>{{ article.created_date }}</td>

          <td><a href="/articles/update/{{ article.id }}" class="btn btn-danger">Update</a></td>
          <td><a href="/articles/delete/{{ article.id }}" class="btn btn-danger">Delete</a></td>
      </tr>
      {% endfor %}

      </tbody>
    </table>

    {% else %}

        <div class="alert alert-danger">
         Not yet any article.
        </div>

    {% endif %}

{% endblock bodyblock %}